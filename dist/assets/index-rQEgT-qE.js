(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();const m=document.getElementById("loading"),v=document.getElementById("userGrid"),C=document.getElementById("searchInput"),E=document.getElementById("languageFilter"),S=document.getElementById("sortSelect"),$=document.getElementById("limitSelect"),T=document.getElementById("totalUsers"),U=document.getElementById("totalLanguages"),B=document.getElementById("avgVersion"),x=document.getElementById("loadTime");let a=[],w=[],I="name",g="all",f="all",h="";function A(e){a=e}function p(e){w=e}function F(e){I=e}function H(e){g=e}function M(e){f=e}function O(e){h=e}function y(){v.innerHTML="",w.forEach(e=>{const o=document.createElement("div");o.className="user-card";const t=400,r=["aaaaaa","bbbbbb","cccccc","dddddd"],n=r[Math.floor(Math.random()*r.length)],s=`https://placehold.co/${t}x${t}/${n}/666666?text=${encodeURIComponent(e.name)}`;o.innerHTML=`
            <div class="user-image">
                <img src="${s}" alt="${e.name}" width="${t}" height="${t}" loading="lazy" />
            </div>
            <div class="user-name">${e.name}</div>
            <div class="user-language">${e.language}</div>
            <div class="user-bio">${e.bio}</div>
            <div class="user-version">Version: ${e.version}</div>
        `,v.appendChild(o)})}function P(){const e=["all",...new Set(a.map(o=>o.language))];E.innerHTML="",e.forEach((o,t)=>{const r=document.createElement("button");r.className="language-btn",r.textContent=o,t===0&&(r.classList.add("active"),r.textContent="All languages"),r.setAttribute("data-language",o),r.addEventListener("click",function(){g!==this.getAttribute("data-language")&&(document.querySelectorAll(".language-btn").forEach(n=>{n.classList.remove("active")}),this.classList.add("active"),H(this.getAttribute("data-language")),d())}),E.appendChild(r)})}function N(){const e=a.length,t=[...new Set(a.map(s=>s.language))].length,r=a.reduce((s,l)=>s+l.version,0),n=e?r/e:0;T.textContent=e,U.textContent=t,B.textContent=n.toFixed(2)}let c;function V(e,o){let t=0;return function(...r){const n=Date.now();n-t>=o&&(t=n,e.apply(this,r))}}function j(e){b(),c=V(()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight-200&&e()},150),window.addEventListener("scroll",c)}function b(){c&&(window.removeEventListener("scroll",c),c=null)}let u=[],i=0;const L=10;async function z(){const e=performance.now();try{const o=await fetch("https://microsoftedge.github.io/Demos/json-dummy-data/128KB.json");if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const t=await o.json();A(t),p([...t]),N(),P(),d();const r=performance.now();x.textContent=`${Math.round(r-e)}ms`,m.style.display="none"}catch(o){console.error("Error fetching users:",o),m.style.display="none"}}function d(){let e=[...a];h&&(e=e.filter(t=>t.name.toLowerCase().includes(h.toLowerCase()))),g!=="all"&&(e=e.filter(t=>t.language===g)),e.sort((t,r)=>{switch(I){case"name":return t.name.localeCompare(r.name);case"language":return t.language.localeCompare(r.language);case"version":return r.version-t.version;default:return 0}});const o=f==="all"?1/0:parseInt(f,10);u=e.slice(0,o),i=L,p(u.slice(0,i)),j(()=>{i+=L,i>=u.length&&b(),p(u.slice(0,i)),y()}),y()}function G(){m.style.display="block",z()}C.addEventListener("input",function(e){O(e.target.value),d()});S.addEventListener("change",function(e){F(e.target.value),d()});$.addEventListener("change",function(e){M(e.target.value),d()});window.addEventListener("load",G);
